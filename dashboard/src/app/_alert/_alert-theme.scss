@use '@angular/material' as mat;
// import your theme tokens ($default, $dark, $status-*) â€” adjust path if needed
@use '../themes' as *;

/**
 * M2-compatible alert theming mixin.
 * Pulls surface/text from the theme's background/foreground maps,
 * and sets accent from your palettes (status palettes for success/warn/error,
 * primary for info).
 */
@mixin theme($app-theme) {
  $color-config: mat.m2-get-color-config($app-theme);
  $primary: map-get($color-config, primary);
  $background: map-get($color-config, background);
  $foreground: map-get($color-config, foreground);

  // Surface + text pulled from the theme maps so it auto-adapts to dark/light.
  .alert-card {
    // background colors
    --alert-surface: #{map-get($background, card)};
    --alert-on-surface: #{map-get($foreground, text)};
    // divider/outline color from foreground map (works in both light/dark)
    --alert-outline: #{map-get($foreground, divider)};
    // shadow: keep a reasonable default; Angular Material doesn't expose shadow tokens
    --alert-shadow: rgba(0, 0, 0, 0.28);
  }

  // ACCENT colors
  // Success / Warning / Error use your STATUS palettes
  .alert-card.is-success {
    --alert-accent: #{mat.m2-get-color-from-palette($status-primary, 500)};
  }
  .alert-card.is-warning {
    --alert-accent: #{mat.m2-get-color-from-palette($status-accent, 600)};
  }
  .alert-card.is-error {
    --alert-accent:  #{mat.m2-get-color-from-palette($status-warn, 500)};
  }

  // Info uses the APP PRIMARY so it tracks your brand
  .alert-card.is-info {
    --alert-accent: #{mat.m2-get-color-from-palette($primary, 600)};
  }
}
